<!DOCTYPE html>
<!-- Starts the experiment with a debug id -->
<html>
  <head>
    <meta charset="utf-8" />
    <title>Free Association</title>
  </head>

  <body>
    <h1>Study Starting Page</h1>
    <br />
    <p>Study: <a href="#" id="debug">debug (debug-id)</a>.</p>
    <br />
    <p>Study: <a href="#" id="test">test (live link with debug id)</a>.</p>

    <script type="text/javascript">
      function makeid() {
        var text = "";
        var possible =
          "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

        for (var i = 0; i < 5; i++)
          text += possible.charAt(Math.floor(Math.random() * possible.length));

        return text;
      }

      var debug_prolific_pid = "pid.debug" + makeid();
      var debug_study_id = "study.debug" + makeid();
      var debug_session_id = "session.debug" + makeid();
      var test_prolific_pid = "pid.test" + makeid();
      var test_study_id = "study.test" + makeid();
      var test_session_id = "session.test" + makeid();
      var href_debug =
        "index.html?PROLIFIC_PID=" +
        debug_prolific_pid +
        "&STUDY_ID=" +
        debug_study_id +
        "&SESSION_ID=" +
        debug_session_id +
        "&mode=debug";
      var href_test =
        "index.html?PROLIFIC_PID=" +
        debug_prolific_pid +
        "&STUDY_ID=" +
        test_study_id +
        "&SESSION_ID=" +
        test_session_id +
        "&mode=debug";

      document.getElementById("debug").setAttribute("href", href_debug);
      document.getElementById("test").setAttribute("href", href_test);
    </script>
  </body>
</html>
